---
layout: default
title: Tags
description: Browse posts by tag
---

<div class="tags-page animate-fade-in">
  <header class="tags-header">
    <h1 class="tags-title">Tags</h1>
  </header>

  {% assign tags_sorted = site.tags | sort %}

  {% if tags_sorted.size > 0 %}
  <!-- Tag Cloud -->
  <div class="tags-cloud animate-fade-in animate-delay-1">
    <button class="tag-button active" data-tag="all">
      All <span class="tag-count">{{ site.posts.size }}</span>
    </button>
    {% for tag in tags_sorted %}
    {% assign tag_name = tag[0] %}
    {% assign posts = tag[1] %}
    <button class="tag-button" data-tag="{{ tag_name | slugify }}">
      {{ tag_name }} <span class="tag-count">{{ posts.size }}</span>
    </button>
    {% endfor %}
  </div>

  <!-- Filtered Posts List -->
  <div class="filtered-posts animate-fade-in animate-delay-2">
    {% assign all_posts = site.posts | sort: 'date' | reverse %}
    {% for post in all_posts %}
    <article class="post-item" data-tags="{% for tag in post.tags %}{{ tag | slugify }} {% endfor %}">
      <a href="{{ post.url | relative_url }}" class="post-item-link">
        <span class="post-item-title">{{ post.title }}</span>
        <time class="post-item-date" datetime="{{ post.date | date_to_xmlschema }}">
          {{ post.date | date: "%Y-%m-%d" }}
        </time>
      </a>
    </article>
    {% endfor %}
  </div>

  <!-- No Results Message -->
  <div class="no-results" style="display: none;">
    <p>No posts found with this tag.</p>
  </div>

  {% else %}
  <p class="no-tags-message">No tags found. Posts will appear here once they are tagged.</p>
  {% endif %}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const tagButtons = document.querySelectorAll('.tag-button');
  const posts = document.querySelectorAll('.post-item');
  const noResults = document.querySelector('.no-results');

  // Check URL hash on page load
  const hash = window.location.hash.slice(1);
  if (hash) {
    const targetButton = document.querySelector(`.tag-button[data-tag="${hash}"]`);
    if (targetButton) {
      filterByTag(hash, targetButton);
    }
  }

  tagButtons.forEach(button => {
    button.addEventListener('click', function() {
      const tag = this.dataset.tag;
      filterByTag(tag, this);

      // Update URL hash
      if (tag === 'all') {
        history.pushState(null, '', window.location.pathname);
      } else {
        history.pushState(null, '', `#${tag}`);
      }
    });
  });

  function filterByTag(tag, activeButton) {
    // Update active button
    tagButtons.forEach(btn => btn.classList.remove('active'));
    activeButton.classList.add('active');

    // Filter posts
    let visibleCount = 0;
    posts.forEach(post => {
      const postTags = post.dataset.tags;
      if (tag === 'all' || postTags.includes(tag)) {
        post.style.display = 'flex';
        visibleCount++;
      } else {
        post.style.display = 'none';
      }
    });

    // Show/hide no results message
    if (noResults) {
      noResults.style.display = visibleCount === 0 ? 'block' : 'none';
    }
  }
});
</script>
